

<section class="section furniture_type_container" data-section-id="{{ section.id }}" data-section-type="collection-list">
    <div class="container">
      {%- if section.settings.title != blank -%}
        <header class="section__header">
          <h2 class="section__title heading h3">{{ section.settings.title | escape }}</h2>
  
          {%- if section.settings.link_title != blank and section.settings.link != blank -%}
            <a href="{{ section.settings.link }}" class="section__action-link link">{{ section.settings.link_title | escape }} {% render 'icon', icon: 'tail-right' %}</a>
          {%- endif -%}
        </header>
      {%- endif -%}
  
      <div class="scroller">
        <div class="scroller__inner">
          <div class="  add-slider"  > 
            {%- for block in section.blocks -%}
                <div class="furniture_tile_{{ block.id }} furniture_category_tile">
                    <div class="tile_text_container"> 
                      <div>
                        <h2 class="tile_heading">{{ block.settings.primary_heading }}</h2>
                        <p class="title_subheading">{{ block.settings.secondary_heading }}</p>
                        <div class="tile_cta_button">
                            <a href="{{ block.settings.button_link }}" class="slideshow__button button cta_btn">Explore Now</a>
                        </div>
                      </div>
                    </div>
                    <img class="tile_side_image" src="{{ block.settings.image | img_url: '210x' }}" loading="lazy"  width="auto" height="210" />
                    <style>
                        .furniture_tile_{{ block.id }}.furniture_category_tile{
                            background: {{ block.settings.tile_background_color }};
                            margin-right: 28px;
                        }
                    </style>
                </div>
            {%- endfor -%}
          </div>
        </div>
      </div>
    </div>
  </section> 
  <script>
    window.addEventListener('DOMContentLoaded', function() {
        const flickitySliders = document.querySelectorAll('.add-slider');
      
        function addFlickitySlider(element) {
          element.setAttribute('data-flickity', JSON.stringify({ "cellAlign": "left", "contain": true, "wrapAround": true })); 
        }
      
        function removeFlickitySlider(element) {
          element.removeAttribute('data-flickity');
        }
      
        function checkWindowSize() {
          const windowWidth = window.innerWidth;
      
          flickitySliders.forEach(function(slider) {
            if (windowWidth <= 991) {
              addFlickitySlider(slider);
            } else {
              removeFlickitySlider(slider);
            }
          });
        }
        checkWindowSize();
        window.addEventListener('resize', function() {
          checkWindowSize();
        });
      });
      
      
  </script>
   
{% schema %}
{
    "name": "Furniture Category",
    "settings": [
        {
            "type": "text",
            "id": "title",
            "label": "Heading",
            "default": "Our collections"
        },
        {
            "type": "text",
            "id": "link_title",
            "label": "Link title",
            "default": "View all"
        },
        {
            "type": "url",
            "id": "link",
            "label": "Link",
            "default": "/collections"
        },
        {
            "type": "checkbox",
            "id": "round_images",
            "label": "Round images",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "show_collection_title",
            "label": "Show collection title",
            "default": true
        }
    ],
    "blocks": [
        {
            "type": "collection",
            "name": "Furniture Category",
            "settings": [
                {
                    "type": "text",
                    "id": "primary_heading",
                    "label": "Primary Heading",
                    "default": "Primary Heading"
                },
                {
                    "type": "text",
                    "id": "secondary_heading",
                    "label": "secondary Heading",
                    "default": "Lorem ipsum dolor sit amet consctetur adipiscing elitsed do eiusm."
                },
                {
                    "type": "color",
                    "id": "tile_background_color",
                    "label": "Tile Background Color",
                    "default": "#EFF2F9"
                },
                {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Image",
                    "info": "600 x 600px .jpg recommended"
                },
                {
                    "type": "url",
                    "id": "button_link",
                    "label": "Button Link"
                }
            ]
        }
    ],
    "presets": [
        {
            "category": "FurnitureCategory",
            "name": "Furniture category",
            "blocks": [
                {
                    "type": "collection"
                },
                {
                    "type": "collection"
                },
                {
                    "type": "collection"
                }
            ]
        }
    ]
}
{% endschema %}